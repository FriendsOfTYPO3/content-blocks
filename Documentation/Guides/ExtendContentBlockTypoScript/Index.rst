.. include:: /Includes.rst.txt
.. _cb_extendTyposcript:

=================
Extend TypoScript
=================

Content Blocks generate a `FLUIDTEMPLATE` :ref:`TypoScript <t3tsref:cobj-template>`
object for each content element. This TypoScript can be extended or overridden
as needed.

How to extend or override Content Blocks TypoScript
===================================================

The basis for each content element
----------------------------------

Every content element which is generated by Content Blocks inherits this
TypoScript:

.. code-block:: typoscript

    contentBlock = FLUIDTEMPLATE
    contentBlock {
        dataProcessing {
            10 = content-blocks
        }
    }

Finding the right TypoScript object
-----------------------------------

In the TypoScript backend module in the submodule "Active TypoScript", formerly
known as "TypoScript Object Browser", the content elements created by Content
Blocks can be found as usual in the section `tt_content`.

The name corresponds to the :confval:`typeName <content-element-typename>`
defined in EditorInterface.yaml.

Example:

.. code-block:: typoscript

    tt_content {
        myvendor_mycontentblockname {
            layoutRootPaths {
                20 = EXT:site_package/ContentBlocks/ContentElements/content-element-name/Source/Layouts/
            }
            partialRootPaths {
                20 = EXT:site_package/ContentBlocks/ContentElements/content-element-name/Source/Partials/
            }
            templateName = Frontend
            templateRootPaths {
                20 = EXT:site_package/ContentBlocks/ContentElements/content-element-name/Source/
            }
        }
    }

This TypoScript object has all the properties that :ref:`FLUIDTEMPLATE <t3tsref:cobj-fluidtemplate-properties>`
offers.

Extend any Content Block
------------------------

.. code-block:: typoscript
   :caption: EXT:site_package/Configuration/TypoScript/setup.typoscript

    lib.contentBlock {
        settings {
            defaultHeaderType = {$styles.content.defaultHeaderType}
        }
        variables {
            demo = TEXT
            demo {
                value = some text
            }
        }
        dataProcessing {
            10 = menu
            10 {
              special = rootline
              as = breadcrumb
            }
        }
    }

Extending a specific content block
----------------------------------

.. code-block:: typoscript
   :caption: EXT:site_package/Configuration/TypoScript/setup.typoscript

    tt_content.myvendor_mycontentblockname {
        settings {
            defaultHeaderType = {$styles.content.defaultHeaderType}
        }
        variables {
            demo = TEXT
            demo {
                value = some text
            }
        }
        dataProcessing {
            10 = menu
            10 {
              special = rootline
              as = breadcrumb
            }
        }
    }

.. note::

   If you want to to reuse Partials from other extensions, be sure to avoid
   indexes below `100` because they are reserved for Content Blocks. See also
   :ref:`Shared Partials <cb_extension_partials>` for more information.
